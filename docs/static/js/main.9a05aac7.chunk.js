(this["webpackJsonpgestor-pyjc-frontend"]=this["webpackJsonpgestor-pyjc-frontend"]||[]).push([[0],{81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(21),s=a.n(n),o=a(7),l=a(18),i=a(9),u=a(5),d=a.n(u),j=a(10),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(b,"/").concat(e);return"GET"===a?fetch(c):fetch(c,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(b,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===a?fetch(c,{method:a,headers:{"x-token":r}}):fetch(c,{method:a,headers:{"Content-Type":"application/json","x-token":r},body:JSON.stringify(t)})},O="[ui] Loading state",h="[ui] Finished loading state",_="[auth] Finish cheking login state",x="[auth] Login",f="[auth] Logout",v="[areas] Loaded areas",N="[areas] Cleared areas",y="[areas] Deleted area",g="[areas] Created areas",C="[areas] Updated area",w="[resources] Loaded resources",k="[resources] Cleared resources",A="[resources] Deleted resource",S="[resources] Created resources",E="[resources] Updated resources",D="[projectsQA] Loaded projects QA",P="[projectsQA] Cleared projects QA",T="[projectsQA] Deleted projects QA",q="[projectsQA] Created projects QA",L=a(4),R=function(e){return{type:v,payload:e}},Q=function(e){return{type:y,payload:e}},I=function(e){return{type:g,payload:e}},H=function(e){return{type:C,payload:e}},F=a(16),J=a.n(F),M=function(e){return{type:q,payload:e}},z=function(e){return{type:D,payload:e}},G=function(e){return{type:T,payload:e}},U=function(e){return{type:w,payload:e}},B=function(e){return{type:A,payload:e}},K=function(e){return{type:S,payload:e}},V=function(e){return{type:E,payload:e}},W=function(){return{type:O}},X=function(e){return{type:x,payload:e}},Y=function(){return{type:_}},Z=function(){return{type:f}},$=a(8),ee=a(31),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),a=Object($.a)(t,2),r=a[0],n=a[1],s=function(){n(e)},o=function(e){var t=e.target;n(Object(L.a)(Object(L.a)({},r),{},Object(ee.a)({},t.name,t.value)))};return[r,o,n,s]},ae=a(0),ce=function(){var e=Object(o.b)(),t=te({email:"frias.jorge@pyjcsystem.com.mx",password:"123456"}),a=Object($.a)(t,2),c=a[0],r=a[1],n=c.email,s=c.password;return Object(ae.jsxs)("div",{className:"form",children:[Object(ae.jsx)("img",{src:"https://res.cloudinary.com/dmfhnhyyj/image/upload/v1632264359/pyjc/P_JC_LOGO_1_hizbhf.png",alt:"Logo-PyJC",className:"form__logo"}),Object(ae.jsx)("h2",{className:"form__title",children:"Iniciar sesi\xf3n"}),Object(ae.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m("auth",{email:e,password:t},"POST");case 2:return r=a.sent,a.next=5,r.json();case 5:(n=a.sent).ok&&(localStorage.setItem("token",n.user.token),localStorage.setItem("token-init-date",(new Date).getTime()),c(X({uid:n.user.uid,name:n.user.name,role:n.user.role}))),setTimeout((function(){c({type:h})}),3500);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,s)),e(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(W());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(ae.jsx)("input",{type:"email",className:"form__input",name:"email",onChange:r,value:n,placeholder:"Email"}),Object(ae.jsx)("input",{type:"password",className:"form__input",name:"password",onChange:r,value:s,placeholder:"Contrase\xf1a"}),Object(ae.jsx)("button",{className:"form__button",children:"Ingresar"})]})]})},re=function(){return Object(ae.jsx)("div",{className:"auth",children:Object(ae.jsx)(ce,{})})},ne=function(){return Object(ae.jsx)("div",{className:"loader-container",children:Object(ae.jsxs)("div",{className:"loader",children:[Object(ae.jsx)("div",{className:"circle"}),Object(ae.jsx)("div",{className:"circle"})]})})},se=[{id:0,icon:"home",title:"Home",link:"/home"},{id:1,icon:"users",title:"\xc1reas",link:"/areas"},{id:2,icon:"suitcase",title:"Proyectos",link:"/projectsQA"},{id:3,icon:"usertie",title:"Recursos",link:"/resources"}],oe=a(27),le=function(e){var t=e.icon,a=e.title,c=e.link;return Object(ae.jsxs)(l.b,{className:"sidebar__item",to:c,children:["home"===t?Object(ae.jsx)(oe.a,{className:"sidebar__item-icon"}):"users"===t?Object(ae.jsx)(oe.d,{className:"sidebar__item-icon"}):"suitcase"===t?Object(ae.jsx)(oe.b,{className:"sidebar__item-icon"}):Object(ae.jsx)(oe.c,{className:"sidebar__item-icon"}),Object(ae.jsx)("p",{className:"sidebar__item-title",children:a})]})},ie=function(){var e=Object(o.b)();return Object(ae.jsxs)("aside",{className:"sidebar",children:[Object(ae.jsx)("div",{className:"sidebar__logo",children:Object(ae.jsx)("img",{src:"https://res.cloudinary.com/dmfhnhyyj/image/upload/v1632264359/pyjc/P_JC_LOGO_1_hizbhf.png",alt:"Logo-PyJC"})}),Object(ae.jsx)("ul",{className:"sidebar__list",children:se.map((function(e){return Object(ae.jsx)(le,Object(L.a)({},e),e.id)}))}),Object(ae.jsx)("button",{className:"sidebar__logout",onClick:function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),t({type:N}),t({type:P}),t({type:k}),t(Z());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})},ue=function(){var e=Object(o.b)(),t=te({_id:new Date,name:"",leader:"",percentage:0}),a=Object($.a)(t,3),r=a[0],n=a[1],s=a[2],l=r.name,i=r.leader,u=r.percentage,b=Object(c.useState)(!1),m=Object($.a)(b,2),p=m[0],O=m[1],h=Object(c.useState)(!1),_=Object($.a)(h,2),x=_[0],f=_[1],v=Object(c.useState)(""),N=Object($.a)(v,2),y=N[0],g=N[1],C=Object(o.c)((function(e){return e.areas})).areas,w=function(t){e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Q(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(ae.jsxs)("div",{className:"crud",children:[Object(ae.jsxs)("div",{className:"crud-nav",children:[Object(ae.jsx)("h2",{className:"crud-title",children:"\xc1reas"}),Object(ae.jsx)("button",{className:"crud-button",onClick:function(){return O(!0)},children:"Agregar Nueva Area"})]}),C.map((function(e){return Object(ae.jsxs)("div",{className:"crud-item",children:[Object(ae.jsxs)("div",{className:"crud-item__info",children:[Object(ae.jsx)("p",{className:"crud-item__name",children:e.name}),Object(ae.jsx)("p",{className:"crud-item__leader",children:"Lider:   ".concat(e.leader)}),Object(ae.jsx)("p",{className:"crud-item__percentage",children:"Porcetange:   ".concat(e.percentage,"%")})]}),Object(ae.jsxs)("div",{className:"crud-admin",children:[Object(ae.jsx)("button",{className:"crud-update-button",onClick:function(){return t=e._id,f(!0),void g(t);var t},children:"Actualizar"}),Object(ae.jsx)("button",{className:"crud-delete-button",onClick:function(){return w(e._id)},children:"Eliminar"})]})]},e._id)})),p&&Object(ae.jsxs)("div",{className:"crud-modal-created",children:[Object(ae.jsx)("h2",{className:"crud-modal__title",children:"Crear Nuevo Recurso"}),Object(ae.jsxs)("form",{className:"crud-modal-form",onSubmit:function(t){var a;t.preventDefault(),O(!1),e((a=r,function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),t(I(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),s()},children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Nombre del \xc1rea:"}),Object(ae.jsx)("input",{type:"text",name:"name",className:"crud-modal__input",onChange:n,value:l,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Lider del \xc1rea:"}),Object(ae.jsx)("input",{type:"text",name:"leader",className:"crud-modal__input",onChange:n,value:i,required:!0}),Object(ae.jsxs)("div",{className:"crud-modal-buttons",children:[Object(ae.jsx)("button",{className:"crud-modal__button-accept",type:"submit",children:"Aceptar"}),Object(ae.jsx)("button",{className:"crud-modal__button-cancel",onClick:function(){return O(!1)},children:"Cancelar"})]})]})]}),x&&Object(ae.jsxs)("div",{className:"crud-modal-update",children:[Object(ae.jsx)("h2",{className:"crud-modal__title",children:"Modificar Recurso"}),Object(ae.jsxs)("form",{className:"crud-modal-form",onSubmit:function(t){var a,c;t.preventDefault(),e((a=y,c=r,function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(L.a)(Object(L.a)({},c),{},{_id:a}),t(H(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),s(),f(!1)},children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Nombre del \xc1rea:"}),Object(ae.jsx)("input",{type:"text",name:"name",className:"crud-modal__input",onChange:n,value:l,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Lider del \xc1rea:"}),Object(ae.jsx)("input",{type:"text",name:"leader",className:"crud-modal__input",onChange:n,value:i,required:!0}),Object(ae.jsx)("input",{type:"range",name:"percentage",className:"crud-modal__input",onChange:n,value:u,min:"0",max:"100",required:!0}),Object(ae.jsxs)("span",{className:"crud-modal__label",children:[u," %"]}),Object(ae.jsxs)("div",{className:"crud-modal-buttons",children:[Object(ae.jsx)("button",{className:"crud-modal__button-accept",type:"submit",children:"Actualizar"}),Object(ae.jsx)("button",{className:"crud-modal__button-cancel",onClick:function(){return f(!1)},children:"Cancelar"})]})]})]})]})},de=function(){var e=Object(o.c)((function(e){return e.resources})).resources;return Object(ae.jsxs)("div",{className:"card-alert",children:[Object(ae.jsx)("h3",{className:"card-title",children:"Recursos"}),e.map((function(e){return Object(ae.jsxs)("div",{className:"card-resources__item",children:[Object(ae.jsx)("p",{children:"".concat(e.name," ").concat(e.surname1," ").concat(e.surname2)}),Object(ae.jsx)("p",{children:e.role})]},e._id)}))]})},je=function(e){var t,a=e.percentage,r=e.name,n=e.leader,s=(e._id,Object(c.useState)(628)),o=Object($.a)(s,2),l=o[0],i=o[1];return Object(c.useEffect)((function(){i(628-a/100*628)}),[a]),t=l>=420.76?"var(--red)":l<420.76&&l>=214.53?"var(--yellow)":"var(--green)",Object(ae.jsxs)("div",{className:"card-area",children:[Object(ae.jsxs)("div",{className:"card-area__graph-wrapper",children:[Object(ae.jsxs)("p",{className:"card-area__percent",children:[a,"%"]}),Object(ae.jsx)("svg",{className:"card-area__graph-rail",viewBox:"0 0 240 240",children:Object(ae.jsx)("circle",{cx:"120",cy:"120",r:"100"})}),Object(ae.jsx)("svg",{className:"card-area__graph-bar",viewBox:"0 0 240 240",children:Object(ae.jsx)("circle",{cx:"120",cy:"120",r:"100",style:{strokeDashoffset:l,stroke:t}})})]}),Object(ae.jsxs)("div",{className:"card-area__info",children:[Object(ae.jsx)("p",{className:"card-area__title",children:r}),Object(ae.jsx)("p",{className:"card-area__subtitle",children:n})]}),Object(ae.jsx)("button",{className:"button-outline",children:"Ver todo"})]})},be=function(e){var t=e.code,a=e.name,r=e.percentage,n=Object(c.useState)(0),s=Object($.a)(n,2),o=s[0],l=s[1];Object(c.useEffect)((function(){l(r)}),[r]);var i="";return i=o<=35?"var(--red)":o>45&&o<=70?"var(--yellow)":"var(--green)",Object(ae.jsxs)("div",{className:"card-project__item",children:[Object(ae.jsxs)("div",{className:"card-project__item-info",children:[Object(ae.jsx)("p",{className:"card-project__item-code",children:t}),Object(ae.jsx)("p",{className:"card-project__item-name",children:a})]}),Object(ae.jsx)("div",{className:"card-project__item-rail",children:Object(ae.jsx)("div",{className:"card-project__item-bar",style:{width:"".concat(o,"%"),backgroundColor:i}})}),Object(ae.jsxs)("small",{className:"card-project__item-percentage",children:[r,"%"]})]})},me=function(){var e=Object(o.c)((function(e){return e.projectsQA})).projects;return Object(ae.jsxs)("div",{className:"card-project",children:[Object(ae.jsx)("h3",{className:"card-title",children:"Proyectos"}),e.map((function(e){return Object(ae.jsx)(be,Object(L.a)({},e),e._id)}))]})},pe=function(){var e=Object(o.c)((function(e){return e.areas})).areas;return e.sort((function(e,t){return t.percentage-e.percentage})),Object(ae.jsx)("div",{className:"home",children:Object(ae.jsxs)("main",{className:"home-content",children:[Object(ae.jsx)("h2",{className:"title",children:"\xc1reas"}),Object(ae.jsx)("div",{className:"home__areas-list",children:e.map((function(e){return Object(ae.jsx)(je,Object(L.a)({},e),e._id)}))}),Object(ae.jsxs)("section",{className:"home__section",children:[Object(ae.jsx)(me,{}),Object(ae.jsx)(de,{})]})]})})},Oe=a(39),he=a.n(Oe);a(80);J.a.locale("es");var _e=J()(),xe=J()().add(1,"day"),fe=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),a=Object($.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(_e.toDate()),l=Object($.a)(s,2),i=l[0],u=l[1],b=Object(c.useState)(xe.toDate()),m=Object($.a)(b,2),O=m[0],h=m[1],_=te({code:"",name:"",platform:"",responsable:"",dateStart:_e.toDate(),dateEnd:xe.toDate(),hours:0,status:"",observations:"",oc:"",additionalHours:"",pe:""}),x=Object($.a)(_,4),f=x[0],v=x[1],N=x[2],y=x[3],g=f.code,C=f.name,w=f.platform,k=f.responsable,A=f.hours,S=f.status,E=f.observations,D=f.oc,P=f.additionalHours,T=f.pe,q=Object(o.c)((function(e){return e.projectsQA})).projects,R=function(t){e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p("qaProjectsTemp/".concat(e),{},"DELETE");case 2:return c=t.sent,t.next=5,c.json();case 5:r=t.sent,console.log(r),a(G(e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(ae.jsxs)("div",{className:"crud",children:[Object(ae.jsxs)("div",{className:"crud-nav",children:[Object(ae.jsx)("h2",{className:"crud-title",children:"Projectos QA"}),Object(ae.jsx)("button",{className:"crud-button",onClick:function(){return n(!0)},children:"Agregar Nuevo Projecto"})]}),q.map((function(e){return Object(ae.jsxs)("div",{className:"crud-item",children:[Object(ae.jsxs)("div",{className:"crud-item__info-project",children:[Object(ae.jsx)("p",{className:"crud-item__code-project",children:"".concat(e.code)}),Object(ae.jsx)("p",{className:"crud-item__code-project",children:e.name}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Plataforma:   ".concat(e.platform)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Estatus:   ".concat(e.status)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Observaciones:   ".concat(e.observations)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"OC:   ".concat(e.oc)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Horas Adicionales:   ".concat(e.additionalHours)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"P.E. :   ".concat(e.pe)}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Fecha de inicio:   ".concat(J()(e.dateStart).format("LL"))}),Object(ae.jsx)("p",{className:"crud-item__project-text",children:"Fecha final:   ".concat(J()(e.dateEnd).format("LL"))})]}),Object(ae.jsx)("div",{className:"crud-admin",children:Object(ae.jsx)("button",{className:"crud-delete-button",onClick:function(){return R(e._id)},children:"Eliminar"})})]},e._id)})),r&&Object(ae.jsxs)("div",{className:"modal",children:[Object(ae.jsx)("h2",{className:"modal-title",children:"Crear un nuevo proyecto"}),Object(ae.jsxs)("form",{className:"crud-modal-form",onSubmit:function(t){var a;t.preventDefault(),y(),e((a=f,function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("qaProjectsTemp",a,"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,a=Object(L.a)({_id:r.project._id},a),t(M(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),n(!1)},autoComplete:"off",children:[Object(ae.jsxs)("div",{className:"crud-modal__wrapper",children:[Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Clave del proyecto:"}),Object(ae.jsx)("input",{type:"text",name:"code",className:"crud-modal__input",onChange:v,value:g,required:!0})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Nombre del proyecto:"}),Object(ae.jsx)("input",{type:"text",name:"name",className:"crud-modal__input",onChange:v,value:C,required:!0})]})]}),Object(ae.jsxs)("div",{className:"crud-modal__wrapper",children:[Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Plataforma:"}),Object(ae.jsx)("input",{type:"text",name:"platform",className:"crud-modal__input",onChange:v,value:w,required:!0})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Responsable del proyecto:"}),Object(ae.jsx)("input",{type:"text",name:"responsable",className:"crud-modal__input",onChange:v,value:k,required:!0})]})]}),Object(ae.jsxs)("div",{className:"crud-modal__wrapper",children:[Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Fecha de inicio:"}),Object(ae.jsx)(he.a,{onChange:function(e){u(e),N(Object(L.a)(Object(L.a)({},f),{},{dateStart:e}))},value:i,format:"dd-MM-yyyy",className:"crud-modal__input"})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Fecha de final:"}),Object(ae.jsx)(he.a,{onChange:function(e){h(e),N(Object(L.a)(Object(L.a)({},f),{},{dateEnd:e}))},value:O,minDate:i,format:"dd-MM-yyyy",className:"crud-modal__input"})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",id:"modal_hours",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Horas:"}),Object(ae.jsx)("input",{type:"number",name:"hours",className:"crud-modal__input",onChange:v,value:A,id:"modal_hours__input",required:!0})]})]}),Object(ae.jsxs)("div",{className:"crud-modal__wrapper",children:[Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Estatus:"}),Object(ae.jsx)("input",{type:"text",name:"status",className:"crud-modal__input",onChange:v,value:S,required:!0})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Horas Adicionales:"}),Object(ae.jsx)("input",{type:"text",name:"additionalHours",className:"crud-modal__input",onChange:v,value:P,required:!0})]})]}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Observaciones:"}),Object(ae.jsx)("textarea",{type:"text-area",name:"observations",className:"crud-modal__input",onChange:v,value:E,required:!0}),Object(ae.jsxs)("div",{className:"crud-modal__wrapper",children:[Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"OC:"}),Object(ae.jsx)("input",{type:"text",name:"oc",className:"crud-modal__input",onChange:v,value:D,required:!0})]}),Object(ae.jsxs)("div",{className:"crud-modal__info",children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"P.E. :"}),Object(ae.jsx)("input",{type:"text",name:"pe",className:"crud-modal__input",onChange:v,value:T})]})]}),Object(ae.jsxs)("div",{className:"crud-modal-buttons",children:[Object(ae.jsx)("button",{className:"crud-modal__button-accept",type:"submit",children:"Aceptar"}),Object(ae.jsx)("button",{className:"crud-modal__button-cancel",onClick:function(){return n(!1)},children:"Cancelar"})]})]})]})]})},ve=function(){var e=Object(o.b)(),t=te({_id:new Date,name:"",surname1:"",surname2:"",area:"6171b485e9eaa5ec213e795c",role:"",subArea:""}),a=Object($.a)(t,3),r=a[0],n=a[1],s=a[2],l=r.name,i=r.surname1,u=r.surname2,b=r.role,m=Object(c.useState)(!1),p=Object($.a)(m,2),O=p[0],h=p[1],_=Object(c.useState)(!1),x=Object($.a)(_,2),f=x[0],v=x[1],N=Object(c.useState)(""),y=Object($.a)(N,2),g=y[0],C=y[1],w=Object(o.c)((function(e){return e.resources})).resources,k=function(t){e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(B(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(ae.jsxs)("div",{className:"crud",children:[Object(ae.jsxs)("div",{className:"crud-nav",children:[Object(ae.jsx)("h2",{className:"crud-title",children:"Recursos"}),Object(ae.jsx)("button",{className:"crud-button",onClick:function(){return h(!0)},children:"Agregar Nuevo Recurso"})]}),w.map((function(e){return Object(ae.jsxs)("div",{className:"crud-item",children:[Object(ae.jsxs)("div",{className:"crud-item__info",children:[Object(ae.jsx)("p",{className:"crud-item__name",children:"".concat(e.name," ").concat(e.surname1," ").concat(e.surname2)}),Object(ae.jsx)("p",{className:"crud-item__leader",children:"Area:   ".concat(e.subArea)}),Object(ae.jsx)("p",{className:"crud-item__percentage",children:"Rol:   ".concat(e.role)})]}),Object(ae.jsxs)("div",{className:"crud-admin",children:[Object(ae.jsx)("button",{className:"crud-update-button",onClick:function(){return t=e._id,v(!0),void C(t);var t},children:"Actualizar"}),Object(ae.jsx)("button",{className:"crud-delete-button",onClick:function(){return k(e._id)},children:"Eliminar"})]})]},e._id)})),O&&Object(ae.jsxs)("div",{className:"crud-modal-created",children:[Object(ae.jsx)("h2",{className:"crud-modal__title",children:"Crear Nuevo Recurso"}),Object(ae.jsxs)("form",{className:"crud-modal-form",onSubmit:function(t){var a;t.preventDefault(),e((a=r,function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),t(K(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),h(!1),s()},children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Nombre:"}),Object(ae.jsx)("input",{type:"text",name:"name",className:"crud-modal__input",onChange:n,value:l,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Apellido1:"}),Object(ae.jsx)("input",{type:"text",name:"surname1",className:"crud-modal__input",onChange:n,value:i,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Apellido2:"}),Object(ae.jsx)("input",{type:"text",name:"surname2",className:"crud-modal__input",onChange:n,value:u,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Rol:"}),Object(ae.jsx)("input",{type:"text",name:"role",className:"crud-modal__input",onChange:n,value:b,required:!0}),Object(ae.jsxs)("div",{className:"crud-modal-buttons",children:[Object(ae.jsx)("button",{className:"crud-modal__button-accept",type:"submit",children:"Aceptar"}),Object(ae.jsx)("button",{className:"crud-modal__button-cancel",onClick:function(){return h(!1)},children:"Cancelar"})]})]})]}),f&&Object(ae.jsxs)("div",{className:"crud-modal-update",children:[Object(ae.jsx)("h2",{className:"crud-modal__title",children:"Modificar Recurso"}),Object(ae.jsxs)("form",{className:"crud-modal-form",onSubmit:function(t){var a,c;t.preventDefault(),e((a=g,c=r,function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(L.a)(Object(L.a)({},c),{},{_id:a}),t(V(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),s(),v(!1)},children:[Object(ae.jsx)("label",{className:"crud-modal__label",children:"Nombre:"}),Object(ae.jsx)("input",{type:"text",name:"name",className:"crud-modal__input",onChange:n,value:l,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Apellido1:"}),Object(ae.jsx)("input",{type:"text",name:"surname1",className:"crud-modal__input",onChange:n,value:i,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Apellido2:"}),Object(ae.jsx)("input",{type:"text",name:"surname2",className:"crud-modal__input",onChange:n,value:u,required:!0}),Object(ae.jsx)("label",{className:"crud-modal__label",children:"Rol:"}),Object(ae.jsx)("input",{type:"text",name:"role",className:"crud-modal__input",onChange:n,value:b,required:!0}),Object(ae.jsxs)("div",{className:"crud-modal-buttons",children:[Object(ae.jsx)("button",{className:"crud-modal__button-accept",type:"submit",children:"Actualizar"}),Object(ae.jsx)("button",{className:"crud-modal__button-cancel",onClick:function(){return v(!1)},children:"Cancelar"})]})]})]})]})},Ne=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("areas");case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,t(R(c.areas)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("resources");case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,t(U(c.resources)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("qaProjectsTemp");case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,r=J()(c.projects[0].dateEnd).toDate(),console.log(r),t(z(c.projects)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(ae.jsx)(l.a,{children:Object(ae.jsxs)("div",{style:{display:"flex"},children:[Object(ae.jsx)(ie,{}),Object(ae.jsxs)(i.d,{children:[Object(ae.jsx)(i.b,{exact:!0,path:"/home",component:pe}),Object(ae.jsx)(i.b,{exact:!0,path:"/areas",component:ue}),Object(ae.jsx)(i.b,{exact:!0,path:"/resources",component:ve}),Object(ae.jsx)(i.b,{exact:!0,path:"/projectsQA",component:fe}),Object(ae.jsx)(i.a,{to:"/home"})]})]})})},ye=a(33),ge=["isAuthenticated","component"],Ce=function(e){var t=e.isAuthenticated,a=e.component,c=Object(ye.a)(e,ge);return localStorage.setItem("lastPath",c.location.pathname),Object(ae.jsx)(i.b,Object(L.a)(Object(L.a)({},c),{},{component:function(e){return t?Object(ae.jsx)(a,Object(L.a)({},e)):Object(ae.jsx)(i.a,{to:"/auth"})}}))},we=["isAuthenticated","component"],ke=function(e){var t=e.isAuthenticated,a=e.component,c=Object(ye.a)(e,we);return Object(ae.jsx)(i.b,Object(L.a)(Object(L.a)({},c),{},{component:function(e){return t?Object(ae.jsx)(i.a,{to:"/"}):Object(ae.jsx)(a,Object(L.a)({},e))}}))},Ae=function(){var e=Object(o.c)((function(e){return e.auth})).uid,t=Object(o.c)((function(e){return e.ui})).loading,a=Object(o.b)();return Object(c.useEffect)((function(){a(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("auth/renewToken");case 2:return a=e.sent,e.next=5,a.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(X({uid:c.uid,name:c.name,role:c.role})),t(Y())):t(Y());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[a]),t?Object(ae.jsx)(ne,{}):Object(ae.jsx)(l.a,{children:Object(ae.jsx)("div",{children:Object(ae.jsxs)(i.d,{children:[Object(ae.jsx)(ke,{exact:!0,path:"/auth",component:re,isAuthenticated:!!e}),Object(ae.jsx)(Ce,{path:"/",component:Ne,isAuthenticated:!!e}),Object(ae.jsx)(i.a,{to:"/auth"})]})})})},Se=a(22),Ee=a(46),De=a(17),Pe={areas:[]},Te={cheking:!0},qe={projects:[]},Le={resources:[]},Re={loading:!1},Qe=Object(Se.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(L.a)(Object(L.a)({},e),{},{loading:!0});case h:return Object(L.a)(Object(L.a)({},e),{},{loading:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{cheking:!1});case _:return Object(L.a)(Object(L.a)({},e),{},{cheking:!1});case f:return{cheking:!1};default:return e}},areas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(L.a)(Object(L.a)({},e),{},{areas:Object(De.a)(t.payload)});case N:return{areas:[]};case y:return console.log("delete action",t.payload),Object(L.a)(Object(L.a)({},e),{},{areas:e.areas.filter((function(e){return e._id!==t.payload}))});case g:return Object(L.a)(Object(L.a)({},e),{},{areas:[].concat(Object(De.a)(e.areas),[t.payload])});case C:return Object(L.a)(Object(L.a)({},e),{},{areas:e.areas.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},projectsQA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(L.a)(Object(L.a)({},e),{},{projects:Object(De.a)(t.payload)});case P:return{projects:[]};case T:return Object(L.a)(Object(L.a)({},e),{},{projects:e.projects.filter((function(e){return e._id!==t.payload}))});case q:return Object(L.a)(Object(L.a)({},e),{},{projects:[t.payload].concat(Object(De.a)(e.projects))});default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(L.a)(Object(L.a)({},e),{},{resources:Object(De.a)(t.payload)});case k:return Object(L.a)(Object(L.a)({},e),{},{resources:[]});case A:return Object(L.a)(Object(L.a)({},e),{},{resources:e.resources.filter((function(e){return e._id!==t.payload}))});case S:return Object(L.a)(Object(L.a)({},e),{},{resources:[].concat(Object(De.a)(e.resources),[t.payload])});case E:return Object(L.a)(Object(L.a)({},e),{},{resources:e.resources.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}}}),Ie="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.c,He=Object(Se.d)(Qe,Ie(Object(Se.a)(Ee.a))),Fe=function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(o.a,{store:He,children:Object(ae.jsx)(Ae,{})})})};a(81);s.a.render(Object(ae.jsx)(r.a.StrictMode,{children:Object(ae.jsx)(Fe,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.9a05aac7.chunk.js.map